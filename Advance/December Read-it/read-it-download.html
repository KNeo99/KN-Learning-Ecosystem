<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download Read-it Practice</title>
<style>
body {
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
min-height: 100vh;
display: flex;
justify-content: center;
align-items: center;
padding: 20px;
}
.download-card {
background: white;
border-radius: 20px;
padding: 40px;
max-width: 600px;
box-shadow: 0 20px 60px rgba(0,0,0,0.3);
text-align: center;
}
.download-card h1 {
color: #667eea;
font-size: 2.5em;
margin-bottom: 20px;
}
.download-card p {
color: #666;
font-size: 1.2em;
line-height: 1.8;
margin: 20px 0;
}
.download-btn {
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
color: white;
border: none;
padding: 20px 40px;
font-size: 1.3em;
font-weight: bold;
border-radius: 15px;
cursor: pointer;
margin: 20px 10px;
transition: transform 0.2s;
text-decoration: none;
display: inline-block;
}
.download-btn:hover {
transform: scale(1.05);
}
.feature-list {
text-align: left;
background: #f8f9fa;
padding: 20px;
border-radius: 15px;
margin: 20px 0;
}
.feature-list li {
margin: 10px 0;
color: #333;
}
.icon {
font-size: 4em;
margin-bottom: 20px;
}
</style>
</head>
<body>
<div class="download-card">
<div class="icon">üìö</div>
<h1>Read-it Practice</h1>
<p>AI-Powered Reading Practice Application</p>
<div class="feature-list">
<h3 style="color: #667eea; margin-bottom: 15px;">‚ú® Features:</h3>
<ul>
<li>‚úÖ Voice recognition for reading practice</li>
<li>‚úÖ Real-time accuracy scoring (0-100%)</li>
<li>‚úÖ Support for PDF, Word, and Text files</li>
<li>‚úÖ 3 pre-loaded American history lessons</li>
<li>‚úÖ Custom text paste option</li>
<li>‚úÖ iOS and desktop compatible</li>
<li>‚úÖ Female voice text-to-speech</li>
<li>‚úÖ Privacy-focused (no data stored)</li>
</ul>
</div>
<p style="color: #999; font-size: 0.95em;">
<strong>Download Instructions:</strong><br>
1. Click the download button below<br>
2. Save the file as "read-it-practice.html"<br>
3. Open the file in Chrome, Safari, or Edge<br>
4. Allow microphone access when prompted<br>
5. Start practicing!
</p>
<button class="download-btn" onclick="downloadFile()">
üì• Download Complete Application
</button>
<p style="color: #999; font-size: 0.9em; margin-top: 30px;">
File size: ~50KB | Works offline after download
</p>
</div>

<script>
function downloadFile() {
const htmlContent = `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Read-it Practice</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%); min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 10px; }
.container { background: white; border-radius: 20px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); max-width: 1000px; width: 100%; padding: 20px; max-height: 95vh; overflow-y: auto; }
.header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 15px; text-align: center; margin-bottom: 15px; }
.header h1 { font-size: 2em; margin-bottom: 5px; }
.header p { font-size: 1em; opacity: 0.9; }
.setup-screen { display: block; }
.practice-screen { display: none; }
.section { background: #f8f9fa; border-radius: 15px; padding: 15px; margin: 10px 0; }
.section h2 { font-size: 1.5em; color: #4c51bf; margin-bottom: 10px; }
.content-tabs { display: flex; gap: 5px; margin-bottom: 10px; }
.tab { flex: 1; background: white; border: 2px solid #e0e0e0; padding: 8px; border-radius: 8px; cursor: pointer; text-align: center; font-weight: bold; font-size: 0.9em; transition: all 0.3s; }
.tab:hover { background: #f0f0f0; }
.tab.active { background: #667eea; color: white; border-color: #667eea; }
.tab-content { display: none; }
.tab-content.active { display: block; }
.lesson-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 10px; margin: 10px 0; }
.lesson-card { background: white; border: 3px solid #e0e0e0; border-radius: 10px; padding: 12px; cursor: pointer; transition: all 0.3s; }
.lesson-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
.lesson-card.selected { border-color: #667eea; background: #ebf4ff; }
.lesson-icon { font-size: 2em; margin-bottom: 5px; }
.lesson-title { font-size: 1em; font-weight: bold; color: #333; margin-bottom: 5px; }
.lesson-duration { color: #666; font-size: 0.8em; }
textarea { width: 100%; min-height: 120px; padding: 12px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1em; font-family: inherit; resize: vertical; }
.file-upload { background: white; border: 3px dashed #667eea; border-radius: 10px; padding: 20px; text-align: center; cursor: pointer; transition: all 0.3s; }
.file-upload:hover { background: #f0f5ff; }
.file-upload input { display: none; }
.file-upload h3 { font-size: 1.1em; margin: 8px 0; }
.file-upload p { font-size: 0.9em; }
.file-name { margin-top: 10px; font-weight: bold; color: #667eea; font-size: 0.9em; }
.btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 12px 30px; font-size: 1.2em; font-weight: bold; border-radius: 12px; cursor: pointer; width: 100%; margin: 10px 0; transition: transform 0.2s; }
.btn-primary:hover:not(:disabled) { transform: scale(1.05); }
.btn-primary:disabled { opacity: 0.6; cursor: not-allowed; }
.story-display { background: #fff9e6; border: 3px solid #ffc107; border-radius: 12px; padding: 15px; margin: 10px 0; font-size: 1em; line-height: 1.6; height: auto; overflow: visible; }
.story-display h3 { color: #f57c00; margin-bottom: 10px; font-size: 1.2em; }
#storyContent { white-space: pre-wrap; word-wrap: break-word; }
.controls { display: flex; gap: 10px; margin: 15px 0; }
.btn-control { flex: 1; padding: 15px; font-size: 1.2em; font-weight: bold; border-radius: 12px; border: none; cursor: pointer; transition: all 0.3s; }
.btn-start { background: linear-gradient(135deg, #4caf50 0%, #2196f3 100%); color: white; }
.btn-stop { background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); color: white; }
.btn-control:hover:not(:disabled) { transform: scale(1.05); }
.btn-control:disabled { opacity: 0.6; cursor: not-allowed; }
.recording-indicator { background: #fee; border: 3px solid #e74c3c; border-radius: 12px; padding: 12px; text-align: center; margin: 10px 0; display: none; font-size: 0.95em; }
.recording-indicator.active { display: block; animation: pulse 1.5s infinite; }
@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
.recording-dot { display: inline-block; width: 15px; height: 15px; background: #e74c3c; border-radius: 50%; margin-right: 10px; animation: blink 1s infinite; }
@keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
.results { background: #e8f5e9; border: 3px solid #4caf50; border-radius: 12px; padding: 15px; margin: 10px 0; display: none; }
.results.show { display: block; }
.comparison-section { background: white; border-radius: 12px; padding: 15px; margin: 15px 0; }
.comparison-section h3 { color: #333; margin-bottom: 10px; font-size: 1.2em; }
.text-box { background: #f8f9fa; border-radius: 10px; padding: 20px; }
.text-box-content { font-size: 0.95em; line-height: 1.6; color: #333; max-height: 200px; overflow-y: auto; }
.score-circle { width: 140px; height: 140px; border-radius: 50%; background: white; border: 8px solid #4caf50; display: flex; flex-direction: column; align-items: center; justify-content: center; margin: 15px auto; }
.score-value { font-size: 2.2em; font-weight: bold; color: #4caf50; }
.score-label { font-size: 1em; color: #666; }
.messages { background: #f8f9fa; border-radius: 12px; padding: 12px; margin: 10px 0; max-height: 120px; overflow-y: auto; }
.message { margin: 6px 0; padding: 10px; border-radius: 8px; font-size: 0.95em; }
.message.bot { background: #e3f2fd; color: #1976d2; }
.hidden { display: none; }
.error-box { background: #ffebee; border: 3px solid #f44336; border-radius: 12px; padding: 12px; margin: 10px 0; color: #c62828; font-size: 0.95em; }
</style>
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script>
if (typeof pdfjsLib !== 'undefined') {
pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.6.0/mammoth.browser.min.js"></script>

<div class="container">
<div class="header">
<h1>üìö Read-it Practice</h1>
<p>Improve your reading skills with AI-powered practice</p>
</div>

<div id="setupScreen" class="setup-screen">
<div id="consentSection" class="section">
<h2>üéôÔ∏è Microphone Access Required</h2>
<div style="background: white; border-radius: 12px; padding: 20px; margin: 15px 0;">
<h3 style="color: #667eea; margin-bottom: 15px;">üìã How This Works:</h3>
<ul style="list-style: none; padding: 0;">
<li style="margin: 12px 0; padding-left: 25px; position: relative;"><span style="position: absolute; left: 0;">‚úì</span> <strong>Your voice will be recorded</strong> to assess your reading accuracy</li>
<li style="margin: 12px 0; padding-left: 25px; position: relative;"><span style="position: absolute; left: 0;">‚úì</span> <strong>Recordings are NOT saved</strong> - processed in real-time only</li>
<li style="margin: 12px 0; padding-left: 25px; position: relative;"><span style="position: absolute; left: 0;">‚úì</span> <strong>Privacy protected</strong> - no data is stored or shared</li>
<li style="margin: 12px 0; padding-left: 25px; position: relative;"><span style="position: absolute; left: 0;">‚úì</span> <strong>Permission required</strong> - your browser will ask for microphone access</li>
</ul>
</div>
<div style="background: #fff9e6; border: 3px solid #ffc107; border-radius: 12px; padding: 15px; margin: 15px 0;"><strong>‚ö†Ô∏è Important:</strong> By clicking "I Agree" below, you consent to microphone use for this practice session only.</div>
<button class="btn-primary" onclick="requestMicrophoneAccess()" id="agreeBtn">üé§ I Agree - Allow Microphone Access</button>
</div>

<div id="contentSection" class="section hidden">
<h2>üìñ Choose Your Reading Material</h2>
<div class="content-tabs">
<div class="tab active" onclick="switchTab('lessons')">üìö History Lessons</div>
<div class="tab" onclick="switchTab('paste')">‚úèÔ∏è Paste Text</div>
<div class="tab" onclick="switchTab('upload')">üìÑ Upload File</div>
</div>

<div id="lessonsTab" class="tab-content active">
<div class="lesson-grid">
<div class="lesson-card" onclick="selectLesson(0)"><div class="lesson-icon">üö¢</div><div class="lesson-title">The Mayflower Voyage</div><div class="lesson-duration">‚è±Ô∏è 2-3 minutes</div></div>
<div class="lesson-card" onclick="selectLesson(1)"><div class="lesson-icon">üóΩ</div><div class="lesson-title">Declaration of Independence</div><div class="lesson-duration">‚è±Ô∏è 2-3 minutes</div></div>
<div class="lesson-card" onclick="selectLesson(2)"><div class="lesson-icon">‚ö°</div><div class="lesson-title">The Industrial Revolution</div><div class="lesson-duration">‚è±Ô∏è 2-3 minutes</div></div>
</div>
</div>

<div id="pasteTab" class="tab-content"><textarea id="pasteText" placeholder="Paste your text here for reading practice..."></textarea></div>

<div id="uploadTab" class="tab-content">
<div class="file-upload" onclick="document.getElementById('fileInput').click()">
<div style="font-size: 3em;">üìÅ</div>
<h3>Click to Upload File</h3>
<p>Supports .txt, .pdf, .doc, .docx files</p>
<input type="file" id="fileInput" accept=".txt,.pdf,.doc,.docx" onchange="handleFileUpload(event)">
<div id="fileName" class="file-name"></div>
</div>
<div id="fileError" class="hidden" style="color: #f44336; margin-top: 15px; text-align: center; font-weight: bold;"></div>
</div>
</div>

<div id="errorBox" class="error-box hidden"></div>
<button class="btn-primary" onclick="startPractice()">üöÄ Start Reading Practice</button>
</div>

<div id="practiceScreen" class="practice-screen">
<div class="messages" id="messages"></div>
<div class="story-display" id="storyDisplay">
<h3 id="storyTitle">Reading Passage</h3>
<div id="storyContent"></div>
</div>
<div class="recording-indicator" id="recordingIndicator"><span class="recording-dot"></span><strong>üé§ Recording in progress... Speak clearly!</strong></div>
<div class="controls">
<button id="startBtn" class="btn-control btn-start" onclick="startRecording()">üé§ Start Reading</button>
<button id="stopBtn" class="btn-control btn-stop hidden" onclick="stopRecording()">‚èπÔ∏è Stop Reading</button>
</div>

<div id="results" class="results">
<h2 style="text-align: center; color: #4caf50; margin-bottom: 20px;">üéâ Reading Results</h2>
<div class="score-circle"><div class="score-value" id="scoreValue">0%</div><div class="score-label">Accuracy</div></div>
<div style="text-align: center; margin: 20px 0; padding: 20px; background: white; border-radius: 15px;">
<p style="font-size: 1.2em; color: #666; line-height: 1.8;"><strong>üìä What is Accuracy?</strong><br>Accuracy shows how closely your reading matched the original text. It compares each word you spoke with the correct words in the passage. A higher percentage means you read more words correctly!</p>
</div>
<div class="comparison-section">
<h3>üé§ What You Read</h3>
<div class="text-box"><div class="text-box-content" id="userRecordedText">Your recorded text will appear here...</div></div>
</div>
<button class="btn-primary" onclick="resetPractice()">üîÑ Try Another Practice</button>
</div>
</div>
</div>

<script>
let selectedVoice='female';let selectedContent=null;let recognition=null;let isRecording=false;let recordedTranscript='';let microphoneGranted=false;
const lessons=[{title:"The Mayflower Voyage",text:"In September 1620, a small ship called the Mayflower set sail from England. Aboard were 102 passengers seeking religious freedom and a new life in America. The journey across the Atlantic Ocean was treacherous, lasting 66 days through storms and rough seas. Many passengers became sick during the voyage. When they finally reached the shores of what is now Massachusetts, they faced a harsh winter. Nearly half of the passengers did not survive. But those who remained persevered, establishing Plymouth Colony. They formed a agreement called the Mayflower Compact, creating a foundation for self-governance. With help from Native Americans, particularly Squanto, they learned to grow crops and hunt. Their first successful harvest led to a celebration of thanksgiving. This small group of determined settlers became known as the Pilgrims, and their courage helped shape the future of America."},{title:"Declaration of Independence",text:"In the summer of 1776, thirteen American colonies stood at a crossroads. For years, they had been under British rule, paying taxes without representation in Parliament. Tensions had been building, and conflict seemed inevitable. A group of colonial leaders gathered in Philadelphia for the Continental Congress. They faced a momentous decision: should they declare independence from Britain? Thomas Jefferson, a young lawyer from Virginia, was chosen to draft a document. Working late into the nights, he wrote words that would echo through history. He declared that all men are created equal and have unalienable rights to life, liberty, and the pursuit of happiness. On July 4, 1776, the Congress adopted the Declaration of Independence. It was a bold and dangerous move, as it meant war with the most powerful nation on Earth. But the founders believed in their cause. They signed their names, knowing they could be executed for treason. Their courage gave birth to a new nation."},{title:"The Industrial Revolution",text:"In the late 1700s, America began to transform from a farming society into an industrial powerhouse. This period, known as the Industrial Revolution, changed every aspect of American life. It began in England with new inventions like the steam engine and spinning jenny. These innovations soon crossed the Atlantic to America. Samuel Slater, often called the Father of the American Industrial Revolution, built the first textile mill in Rhode Island. Factories began appearing along rivers, using water power to run machines. People left their farms to work in cities. The invention of the cotton gin by Eli Whitney revolutionized cotton production in the South. Railroads expanded across the nation, connecting distant cities and enabling trade. Factories produced goods faster and cheaper than ever before. However, this progress came at a cost. Workers, including children, labored long hours in dangerous conditions. Cities became crowded and polluted. Yet the Industrial Revolution laid the foundation for American economic power and changed the nation forever."}];

async function requestMicrophoneAccess(){const errorBox=document.getElementById('errorBox');const agreeBtn=document.getElementById('agreeBtn');errorBox.classList.add('hidden');agreeBtn.disabled=true;agreeBtn.textContent='‚è≥ Requesting permission...';if(!('webkitSpeechRecognition' in window)&&!('SpeechRecognition' in window)){errorBox.textContent='‚ùå Speech recognition not supported. Please use Chrome, Edge, or Safari.';errorBox.classList.remove('hidden');agreeBtn.disabled=false;agreeBtn.textContent='üé§ I Agree - Allow Microphone Access';return}try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});stream.getTracks().forEach(track=>track.stop());microphoneGranted=true;const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;recognition=new SpeechRecognition();recognition.continuous=true;recognition.interimResults=true;recognition.lang='en-US';recognition.onresult=(event)=>{for(let i=event.resultIndex;i<event.results.length;i++){if(event.results[i].isFinal){recordedTranscript+=event.results[i][0].transcript+' '}}};recognition.onerror=(event)=>{if(event.error!=='no-speech'&&event.error!=='aborted'){console.error('Recognition error:',event.error)}};document.getElementById('consentSection').classList.add('hidden');document.getElementById('contentSection').classList.remove('hidden');setTimeout(()=>{const instructions="Welcome to Read-it Practice! Thank you for allowing microphone access. Here's how this works: First, choose your reading material from the options below. You can select a history lesson, paste your own text, or upload a document. Once you've chosen, I'll read the passage to you, then you'll read it back to me. When you're finished reading, click the Stop Reading button, and I'll give you an accuracy score. Let's get started!";speakTextIOS(instructions)},500)}catch(error){errorBox.innerHTML='<strong>‚ùå Microphone Access Denied</strong><br><br>Please allow microphone access in your browser settings:<br><br><strong>iOS Safari:</strong> Settings ‚Üí Safari ‚Üí Microphone ‚Üí Allow<br><strong>Chrome/Edge:</strong> Click üîí in address bar ‚Üí Site Settings ‚Üí Microphone ‚Üí Allow<br><strong>Firefox:</strong> Click üîí icon ‚Üí Permissions ‚Üí Microphone ‚Üí Allow<br><br>After allowing access, refresh the page and try again.';errorBox.classList.remove('hidden');agreeBtn.disabled=false;agreeBtn.textContent='üé§ I Agree - Allow Microphone Access'}}

function switchTab(tab){document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));event.target.classList.add('active');document.getElementById(tab+'Tab').classList.add('active')}

function selectLesson(index){selectedContent=lessons[index];document.querySelectorAll('.lesson-card').forEach(card=>card.classList.remove('selected'));event.target.closest('.lesson-card').classList.add('selected')}

function handleFileUpload(event){const file=event.target.files[0];const fileError=document.getElementById('fileError');const fileName=document.getElementById('fileName');fileError.classList.add('hidden');fileName.textContent='';if(!file)return;const fileType=file.type;const fileExtension=file.name.split('.').pop().toLowerCase();if(fileType==='text/plain'||fileExtension==='txt'){const reader=new FileReader();reader.onload=function(e){selectedContent={title:file.name.replace('.txt',''),text:e.target.result};fileName.textContent=\`‚úÖ \${file.name} loaded successfully\`};reader.onerror=function(){fileError.textContent='‚ùå Error reading text file. Please try again.';fileError.classList.remove('hidden')};reader.readAsText(file)}else if(fileType==='application/pdf'||fileExtension==='pdf'){fileName.textContent=\`‚è≥ Loading \${file.name}...\`;const reader=new FileReader();reader.onload=async function(e){try{const loadingTask=pdfjsLib.getDocument({data:e.target.result});const pdf=await loadingTask.promise;let fullText='';for(let i=1;i<=pdf.numPages;i++){const page=await pdf.getPage(i);const textContent=await page.getTextContent();const pageText=textContent.items.map(item=>item.str).join(' ');fullText+=pageText+' '}if(fullText.trim()){selectedContent={title:file.name.replace('.pdf',''),text:fullText.trim()};fileName.textContent=\`‚úÖ \${file.name} loaded successfully\`}else{fileError.textContent='‚ùå No text found in PDF. Please try a different file.';fileError.classList.remove('hidden')}}catch(error){console.error('PDF Error:',error);fileError.textContent='‚ùå Error reading PDF file. Please try again.';fileError.classList.remove('hidden')}};reader.onerror=function(){fileError.textContent='‚ùå Error reading PDF file. Please try again.';fileError.classList.remove('hidden')};reader.readAsArrayBuffer(file)}else if(fileType==='application/vnd.openxmlformats-officedocument.wordprocessingml.document'||fileExtension==='docx'||fileExtension==='doc'){fileName.textContent=\`‚è≥ Loading \${file.name}...\`;const reader=new FileReader();reader.onload=async function(e){try{const result=await mammoth.extractRawText({arrayBuffer:e.target.result});const text=result.value;if(text.trim()){selectedContent={title:file.name.replace(/\\.(docx|doc)$/,''),text:text.trim()};fileName.textContent=\`‚úÖ \${file.name} loaded successfully\`}else{fileError.textContent='‚ùå No text found in document. Please try a different file.';fileError.classList.remove('hidden')}}catch(error){console.error('Word Document Error:',error);fileError.textContent='‚ùå Error reading Word document. Please try again.';fileError.classList.remove('hidden')}};reader.onerror=function(){fileError.textContent='‚ùå Error reading Word document. Please try again.';fileError.classList.remove('hidden')};reader.readAsArrayBuffer(file)}else{fileError.textContent='‚ùå Unsupported file type. Please upload .txt, .pdf, .doc, or .docx files.';fileError.classList.remove('hidden')}}

async function startPractice(){const errorBox=document.getElementById('errorBox');errorBox.classList.add('hidden');if(!microphoneGranted||!recognition){errorBox.textContent='‚ö†Ô∏è Please allow microphone access first by clicking "I Agree"';errorBox.classList.remove('hidden');return}const pasteText=document.getElementById('pasteText').value.trim();if(pasteText){selectedContent={title:'Your Custom Text',text:pasteText}}if(!selectedContent){errorBox.textContent='‚ö†Ô∏è Please select a lesson, paste text, or upload a file';errorBox.classList.remove('hidden');return}document.getElementById('setupScreen').style.display='none';document.getElementById('practiceScreen').style.display='block';document.getElementById('storyTitle').textContent=selectedContent.title;document.getElementById('storyContent').textContent=selectedContent.text;addMessage('üëã Welcome to Reading Practice!');setTimeout(()=>addMessage(\`üéØ Today you'll be practicing: "\${selectedContent.title}"\`),500);setTimeout(()=>addMessage('üìñ I\\'ll read the passage to you first, then it\\'s your turn.'),1000);setTimeout(()=>addMessage('üé§ Click "Start Reading" to begin, and "Stop Reading" when done.'),1500);setTimeout(()=>{addMessage('üîä Listen carefully as I read the passage...');speakTextIOS(selectedContent.text)},2000);setTimeout(()=>{addMessage('‚úÖ Now it\\'s your turn! Click "Start Reading" when you\\'re ready.')},calculateReadTime(selectedContent.text)+2500)}

function speakTextIOS(text){if('speechSynthesis' in window){window.speechSynthesis.cancel();setTimeout(()=>{const utterance=new SpeechSynthesisUtterance(text);const voices=window.speechSynthesis.getVoices();if(selectedVoice==='female'){const femaleVoice=voices.find(v=>v.lang.includes('en-US')&&(v.name.includes('Samantha')||v.name.includes('Victoria')||v.name.includes('Karen